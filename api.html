<!DOCTYPE html>
<html>
<head>
<title>W3.CSS Template</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>

<body>
<!-- Header -->
<header class="w3-display-container w3-content w3-center" style="max-width:max-content">
  <img class="w3-image " src="picture/247830.jpg" alt="Me" width="1500" height="300" >
  <div class="w3-display-middle w3-padding-large w3-border w3-wide w3-text-light-grey w3-center">
    <h1 class="w3-hide-medium w3-hide-small w3-xxxlarge">SARARAT WANNAJAM</h1>
    <h5 class="w3-hide-large" style="white-space:nowrap">SARARAT WANNAJAM </h5>
    <h3 class="w3-hide-medium w3-hide-small">INFORMATION TECHNOLOGY DEPARTMENT KKTECH</h3>
  </div>
<!-- Navbar (placed at the bottom of the header image) -->
<div class="w3-bar w3-light-grey w3-round w3-display-bottommiddle w3-hide-small" style="bottom:-16px">
  <a href="index.html" class="w3-bar-item w3-button">Home</a>
  <a href="java.html" class="w3-bar-item w3-button">Java</a>
  <a href="api.html" class="w3-bar-item w3-button">API</a>
</div>
</header>

<!-- Navbar on small screens -->
<div class="w3-center w3-light-grey w3-padding-16 w3-hide-large w3-hide-medium">
<div class="w3-bar w3-light-grey">
<a href="index.html" class="w3-bar-item w3-button">Home</a>
<a href="java.html" class="w3-bar-item w3-button">Java</a>
<a href="api.html" class="w3-bar-item w3-button">API</a>
</div>
</div>
<!-- Page content -->

<div class="box" style="margin-top: 5%;">
  <h2>API 1 : สร้างปุ่ม Click เพื่อให้ update ภาพหรือคำจาก API</h2>
  <hr>
  <h2>Click to change</h2>
  <p id="demo2">Hi</p>
  <button onclick="myFunction() ">Click me</button>
</div>

<div class="box">
  <h2>API 2 : สร้าง input แล้วมีปุ่มให้ Click เพื่อเปลี่ยน Parameter ส่งไปพร้อมกับ api แล้วนำผลมาแสดง</h2>
  <hr>
  <label for="parameterInput">ชื่อ:</label>
  <input type="text" id="parameterInput" placeholder="กรอกชื่อ">

  <button onclick="fetchData()">กดปุ่ม</button>

  <div id="resultContainer">
      <script>
          async function fetchData() {
              try {
                  // Get the parameter value from the input
                  const parameterValue = document.getElementById('parameterInput').value;

                  // Make the API request with the parameter
                  const response = await fetch(`https://api.genderize.io/?name=${parameterValue}`);
                  const data = await response.json();

                  // Display the result
                  const resultContainer = document.getElementById('resultContainer');
                  resultContainer.textContent = JSON.stringify(data, null, 2);
              } catch (error) {
                  console.error('Error fetching data:', error);
              }
          }
      </script>
  </div>
</div>
<div class="box">
  <h2>API 3 : Update ราคา Crypto ทุกๆ 30 วิด้วย API ของผู้ให้บริการ </h2>
  <hr>
  <div id="lastUpdateTime"></div>
  <div id="prices"></div>

  <script>
      // Function to fetch cryptocurrency prices from the Coinbase API
      async function fetchPrices() {
          try {
              const response = await fetch('https://api.coinbase.com/v2/exchange-rates?currency=USDT');
              const data = await response.json();

              // Display prices and last update time
              displayPrices(data.data.rates);
              displayLastUpdateTime();
          } catch (error) {
              handleFetchError(error);
          }
      }

      // Function to display cryptocurrency prices
      function displayPrices(rates) {
          const currencies = ['1INCH', 'AAVE', 'ABT', 'ACH', 'ACS', 'ADA', 'AED', 'BTC', 'ETH'];

          const pricesHtml = `
              <p>1 USDT can buy:</p>
              <ul class='list-group list-group-numbered'>${currencies.map(currency => `<li class='list-group-item'>${currency}: ${rates[currency] || 'N/A'}</li>`).join('')}</ul>
          `;
  
          document.getElementById('prices').innerHTML = pricesHtml;
      }
  
      // Function to handle fetch errors
      function handleFetchError(error) {
          console.error('Error fetching data:', error);
          alert('Error fetching data. Please try again.');
      }
  
      // Function to display the last update time
      function displayLastUpdateTime() {
          const updateTimeDiv = document.getElementById('lastUpdateTime');
          const currentTime = new Date().toLocaleTimeString();
  
          updateTimeDiv.innerHTML = `<p>Last Update Time: ${currentTime}</p>`;
      }
  
      // Initial fetch and display
      fetchPrices();
  
      // Set interval to fetch and update prices every 30 seconds
      setInterval(fetchPrices, 30000);
  </script>
</div>
<h2>Google Sheet API</h2>
<div class="box">
  <form method="POST" action="https://script.google.com/macros/s/AKfycbxnEY_7hLkMXSm-a8S1-I0plqIbGJh1G4WIsXKjSSkrqWXyvovZXDVm0BeH59p7VN8/exec">
      <input name="Email" type="email" placeholder="Email" required>
      <input name="Name" type="text" placeholder="Name" required>
      <button type="submit">Send</button>
  </form>
  <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-1vS7uwWK9OT5BebO4NkQRCcnpE2wNfEj2IN7HcaLtfNjp9thdnGeX7naqma072jDyl3wSckTMWAnLJXJ/pubhtml?widget=true&amp;headers=false" width="100%" height="600px"></iframe>
  <script>
      function myFunction() {
          fetch("https://dog.ceo/api/breeds/image/random")
              .then(function(response) {
                  return response.json()
              })
              .then(function(data) {
                  let txt = " ";
                  for (let x in data) {
                      txt += data[x] + " ";
                      document.getElementById("demo2").innerHTML = txt;
                  };

                  return data;
              })


      }
    </script>

<!-- End page content -->


</div>

<!-- Footer -->
<footer class="w3-center w3-black w3-padding-16">
  <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-text-green">w3.css</a></p>
</footer>

</body>
</html>